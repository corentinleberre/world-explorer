<div class="flex flex-col justify-center items-center">
  <div
    class="w-11/12 featured rounded-lg drop-shadow-xl flex flex-col items-center p-5"
  >
    <p class="text-xl md:text-3xl pb-3">Comparateur de vols multi-départs</p>
    <p class="featured-block featured-content">
      Bienvenue ! Trouvez un endroit ou vous rejoindre pour votre prochain
      voyage.
    </p>
  </div>
  <div class="w-11/12 md:w-10/12 p-3">
    <div class="flex flex-row justify-center">
      <form
        [formGroup]="formGroup"
        (ngSubmit)="onSubmit()"
        class="bottom-0 featured-input rounded-lg shadow-md border-solid border-2 border-sky-500"
      >
        <div
          class="flex flex-row items-center flex-wrap bg-[#f0f3f5] rounded-lg"
        >
          <div
            class="ng-autocomplete p-2 flex flex-row items-center justify-center flex-wrap grow"
          >
            <ng-autocomplete
              [data]="airports"
              [searchKeyword]="'city'"
              placeholder="Aéroport de départ n°1"
              (selected)="selectEvent($event, 'people1')"
              [itemTemplate]="itemTemplate"
              [notFoundTemplate]="notFoundTemplate"
              [minQueryLength]="3"
            ></ng-autocomplete>
            <ng-template #itemTemplate let-item>
              <a [innerHTML]="item.name"></a>
            </ng-template>

            <ng-template #notFoundTemplate let-notFound>
              <div [innerHTML]="notFound"></div>
            </ng-template>
          </div>
          <div
            class="ng-autocomplete p-2 flex flex-row items-center justify-center flex-wrap grow"
          >
            <ng-autocomplete
              [data]="airports"
              [searchKeyword]="'city'"
              placeholder="Aéroport de départ n°2"
              (selected)="selectEvent($event, 'people2')"
              [itemTemplate]="itemTemplate"
              [notFoundTemplate]="notFoundTemplate"
              [minQueryLength]="3"
            ></ng-autocomplete>

            <ng-template #itemTemplate let-item>
              <a [innerHTML]="item.name"></a>
            </ng-template>

            <ng-template #notFoundTemplate let-notFound>
              <div [innerHTML]="notFound"></div>
            </ng-template>
          </div>
          <div class="inline sm:flex">
            <div
              class="flex flex-row items-center justify-start flex-wrap grow p-3"
            >
              <label for="start" class="w-1/2 px-5">Départ : </label>
              <input
                type="date"
                id="start"
                name="trip-start"
                formControlName="start"
                class="bg-purple-white shadow rounded-lg border-0 p-3 w-1/2"
              />
            </div>

            <div
              class="flex flex-row items-center justify-start flex-wrap grow p-3"
            >
              <label for="end" class="w-1/2 px-5">Retour : </label>
              <input
                type="date"
                id="end"
                name="trip-end"
                formControlName="end"
                class="bg-purple-white shadow rounded-lg border-0 p-3 w-1/2"
              />
            </div>
          </div>

          <div
            class="flex flex-row items-center justify-center flex-wrap grow p-2"
          >
            <div
              class="featured-submit w-5 p-5 flex flex-row items-center justify-center rounded-lg {{
                !isLoading ? 'hover:scale-105' : ''
              }}"
            >
              <button type="submit" [disabled]="isLoading">
                <fa-icon
                  [icon]="isLoading ? faCircleNotch : faMagnifyingGlass"
                  size="1x"
                  [classes]="isLoading ? ['animate-spin'] : ['']"
                ></fa-icon>
              </button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
